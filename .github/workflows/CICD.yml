name: CICD

on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'Deployment environment'
        required: true
        type: string
jobs:
  ci-cd:
    permissions: write-all
    name: print-token
    environment: ${{ github.event.inputs.environment }}
    runs-on: ubuntu-latest

    steps:
    - name: Checkout Repository
      uses: actions/checkout@v3

    - name: Calculate Version Number
      id: calc_version
      run: |
        version="v1.0.${{ github.run_number }}"
        echo "Calculated version: $version"
        echo "::set-output name=version::$version"
